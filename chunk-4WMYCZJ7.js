var te=class{constructor(){this.m=new Map}reset(s){this.m=new Map(Object.entries(s))}get(s,i){let c=this.m.get(s);return c!==void 0?c:i}getBoolean(s,i=!1){let c=this.m.get(s);return c===void 0?i:typeof c=="string"?c==="true":!!c}getNumber(s,i){let c=parseFloat(this.m.get(s));return isNaN(c)?i!==void 0?i:NaN:c}set(s,i){this.m.set(s,i)}},T=new te;var W=function(o){return o.OFF="OFF",o.ERROR="ERROR",o.WARN="WARN",o}(W||{}),ve=(o,...s)=>{let i=T.get("logLevel",W.WARN);if([W.WARN].includes(i))return console.warn(`[Ionic Warning]: ${o}`,...s)},Ae=(o,...s)=>{let i=T.get("logLevel",W.ERROR);if([W.ERROR,W.WARN].includes(i))return console.error(`[Ionic Error]: ${o}`,...s)};var re=typeof window<"u"?window:void 0;var ie,mn=o=>{if(ie===void 0){let s=o.style.animationName!==void 0,i=o.style.webkitAnimationName!==void 0;ie=!s&&i?"-webkit-":""}return ie},oe=(o,s,i)=>{let c=s.startsWith("animation")?mn(o):"";o.style.setProperty(c+s,i)},z=(o=[],s)=>{if(s!==void 0){let i=Array.isArray(s)?s:[s];return[...o,...i]}return o},An=o=>{let s,i,c,g,C,b,f=[],v=[],Y=[],A=!1,l,$={},j=[],H=[],J={},F=0,x=!1,D=!1,R,k,L,S=!0,P=!1,_=!0,t,M=!1,se=o,G=[],O=[],U=[],y=[],d=[],ae=[],ce=[],fe=[],le=[],ue=[],E=[],Ce=typeof AnimationEffect=="function"||re!==void 0&&typeof re.AnimationEffect=="function",h=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Ce,de=()=>E,Fe=e=>(d.forEach(n=>{n.destroy(e)}),Re(e),y.length=0,d.length=0,f.length=0,We(),A=!1,_=!0,t),Re=e=>{ge(),e&&ke()},Le=()=>{x=!1,D=!1,_=!0,R=void 0,k=void 0,L=void 0,F=0,P=!1,S=!0,M=!1},Se=()=>F!==0&&!M,me=(e,n)=>{let r=n.findIndex(a=>a.c===e);r>-1&&n.splice(r,1)},Ie=(e,n)=>(U.push({c:e,o:n}),t),X=(e,n)=>((n?.oneTimeCallback?O:G).push({c:e,o:n}),t),We=()=>(G.length=0,O.length=0,t),ge=()=>{h&&(E.forEach(e=>{e.cancel()}),E.length=0)},ke=()=>{ae.forEach(e=>{e?.parentNode&&e.parentNode.removeChild(e)}),ae.length=0},Pe=e=>(ce.push(e),t),_e=e=>(fe.push(e),t),Oe=e=>(le.push(e),t),Ne=e=>(ue.push(e),t),Te=e=>(v=z(v,e),t),Ve=e=>(Y=z(Y,e),t),xe=(e={})=>($=e,t),De=(e=[])=>{for(let n of e)$[n]="";return t},Me=e=>(j=z(j,e),t),Ue=e=>(H=z(H,e),t),Be=(e={})=>(J=e,t),qe=(e=[])=>{for(let n of e)J[n]="";return t},Z=()=>C!==void 0?C:l?l.getFill():"both",B=()=>R!==void 0?R:b!==void 0?b:l?l.getDirection():"normal",Q=()=>x?"linear":c!==void 0?c:l?l.getEasing():"linear",I=()=>D?0:k!==void 0?k:i!==void 0?i:l?l.getDuration():0,ee=()=>g!==void 0?g:l?l.getIterations():1,ne=()=>L!==void 0?L:s!==void 0?s:l?l.getDelay():0,ze=()=>f,Ke=e=>(b=e,m(!0),t),Ye=e=>(C=e,m(!0),t),$e=e=>(s=e,m(!0),t),je=e=>(c=e,m(!0),t),He=e=>(!h&&e===0&&(e=1),i=e,m(!0),t),Je=e=>(g=e,m(!0),t),Ge=e=>(l=e,t),Xe=e=>{if(e!=null)if(e.nodeType===1)y.push(e);else if(e.length>=0)for(let n=0;n<e.length;n++)y.push(e[n]);else Ae("createAnimation - Invalid addElement value.");return t},Ze=e=>{if(e!=null)if(Array.isArray(e))for(let n of e)n.parent(t),d.push(n);else e.parent(t),d.push(e);return t},Qe=e=>{let n=f!==e;return f=e,n&&en(f),t},en=e=>{h&&de().forEach(n=>{let r=n.effect;if(r.setKeyframes)r.setKeyframes(e);else{let a=new KeyframeEffect(r.target,e,r.getTiming());n.effect=a}})},nn=()=>{ce.forEach(a=>a()),fe.forEach(a=>a());let e=v,n=Y,r=$;y.forEach(a=>{let u=a.classList;e.forEach(p=>u.add(p)),n.forEach(p=>u.remove(p));for(let p in r)r.hasOwnProperty(p)&&oe(a,p,r[p])})},tn=()=>{le.forEach(u=>u()),ue.forEach(u=>u());let e=S?1:0,n=j,r=H,a=J;y.forEach(u=>{let p=u.classList;n.forEach(w=>p.add(w)),r.forEach(w=>p.remove(w));for(let w in a)a.hasOwnProperty(w)&&oe(u,w,a[w])}),k=void 0,R=void 0,L=void 0,G.forEach(u=>u.c(e,t)),O.forEach(u=>u.c(e,t)),O.length=0,_=!0,S&&(P=!0),S=!0},q=()=>{F!==0&&(F--,F===0&&(tn(),l&&l.animationFinish()))},rn=()=>{y.forEach(e=>{let n=e.animate(f,{id:se,delay:ne(),duration:I(),easing:Q(),iterations:ee(),fill:Z(),direction:B()});n.pause(),E.push(n)}),E.length>0&&(E[0].onfinish=()=>{q()})},he=()=>{nn(),f.length>0&&h&&rn(),A=!0},N=e=>{e=Math.min(Math.max(e,0),.9999),h&&E.forEach(n=>{n.currentTime=n.effect.getComputedTiming().delay+I()*e,n.pause()})},Ee=e=>{E.forEach(n=>{n.effect.updateTiming({delay:ne(),duration:I(),easing:Q(),iterations:ee(),fill:Z(),direction:B()})}),e!==void 0&&N(e)},m=(e=!1,n=!0,r)=>(e&&d.forEach(a=>{a.update(e,n,r)}),h&&Ee(r),t),on=(e=!1,n)=>(d.forEach(r=>{r.progressStart(e,n)}),pe(),x=e,A||he(),m(!1,!0,n),t),sn=e=>(d.forEach(n=>{n.progressStep(e)}),N(e),t),an=(e,n,r)=>(x=!1,d.forEach(a=>{a.progressEnd(e,n,r)}),r!==void 0&&(k=r),P=!1,S=!0,e===0?(R=B()==="reverse"?"normal":"reverse",R==="reverse"&&(S=!1),h?(m(),N(1-n)):(L=(1-n)*I()*-1,m(!1,!1))):e===1&&(h?(m(),N(n)):(L=n*I()*-1,m(!1,!1))),e!==void 0&&!l&&ye(),t),pe=()=>{A&&(h?E.forEach(e=>{e.pause()}):y.forEach(e=>{oe(e,"animation-play-state","paused")}),M=!0)},cn=()=>(d.forEach(e=>{e.pause()}),pe(),t),fn=()=>{q()},ln=()=>{E.forEach(e=>{e.play()}),(f.length===0||y.length===0)&&q()},un=()=>{h&&(N(0),Ee())},ye=e=>new Promise(n=>{e?.sync&&(D=!0,X(()=>D=!1,{oneTimeCallback:!0})),A||he(),P&&(un(),P=!1),_&&(F=d.length+1,_=!1);let r=()=>{me(a,O),n()},a=()=>{me(r,U),n()};X(a,{oneTimeCallback:!0}),Ie(r,{oneTimeCallback:!0}),d.forEach(u=>{u.play()}),h?ln():fn(),M=!1}),dn=()=>{d.forEach(e=>{e.stop()}),A&&(ge(),A=!1),Le(),U.forEach(e=>e.c(0,t)),U.length=0},be=(e,n)=>{let r=f[0];return r!==void 0&&(r.offset===void 0||r.offset===0)?r[e]=n:f=[{offset:0,[e]:n},...f],t};return t={parentAnimation:l,elements:y,childAnimations:d,id:se,animationFinish:q,from:be,to:(e,n)=>{let r=f[f.length-1];return r!==void 0&&(r.offset===void 0||r.offset===1)?r[e]=n:f=[...f,{offset:1,[e]:n}],t},fromTo:(e,n,r)=>be(e,n).to(e,r),parent:Ge,play:ye,pause:cn,stop:dn,destroy:Fe,keyframes:Qe,addAnimation:Ze,addElement:Xe,update:m,fill:Ye,direction:Ke,iterations:Je,duration:He,easing:je,delay:$e,getWebAnimations:de,getKeyframes:ze,getFill:Z,getDirection:B,getDelay:ne,getIterations:ee,getEasing:Q,getDuration:I,afterAddRead:Oe,afterAddWrite:Ne,afterClearStyles:qe,afterStyles:Be,afterRemoveClass:Ue,afterAddClass:Me,beforeAddRead:Pe,beforeAddWrite:_e,beforeClearStyles:De,beforeStyles:xe,beforeRemoveClass:Ve,beforeAddClass:Te,onFinish:X,isRunning:Se,progressStart:on,progressStep:sn,progressEnd:an}};var V=o=>{o.tabIndex=-1,o.focus()},K=o=>o.offsetParent!==null,gn=()=>({saveViewFocus:i=>{if(T.get("focusManagerPriority",!1)){let g=document.activeElement;g!==null&&i?.contains(g)&&g.setAttribute(we,"true")}},setViewFocus:i=>{let c=T.get("focusManagerPriority",!1);if(Array.isArray(c)&&!i.contains(document.activeElement)){let g=i.querySelector(`[${we}]`);if(g&&K(g)){V(g);return}for(let C of c)switch(C){case"content":let b=i.querySelector('main, [role="main"]');if(b&&K(b)){V(b);return}break;case"heading":let f=i.querySelector('h1, [role="heading"][aria-level="1"]');if(f&&K(f)){V(f);return}break;case"banner":let v=i.querySelector('header, [role="banner"]');if(v&&K(v)){V(v);return}break;default:ve(`Unrecognized focus manager priority value ${C}`);break}V(i)}}}),we="ion-last-focus";var Rn=gn();var Ln=o=>{if(o.classList.contains("ion-page"))return o;let s=o.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return s||o};export{An as a,Ln as b};
